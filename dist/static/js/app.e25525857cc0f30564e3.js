webpackJsonp([1],{"3JSf":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={};n.d(s,"getList",function(){return y}),n.d(s,"getDataStored",function(){return b}),n.d(s,"getOompaDetails",function(){return k});var a={};n.d(a,"setResponse",function(){return E}),n.d(a,"setResLocalStorage",function(){return P}),n.d(a,"findResult",function(){return X}),n.d(a,"setOompaDetails",function(){return j}),n.d(a,"cleanState",function(){return A});var r=n("7+uW"),o=n("NYxO"),i=n("Dd8w"),c=n.n(i),u=n("Zrlr"),l=n.n(u),p=n("wxAW"),d=n.n(p),m=n("mtWM"),h=n.n(m),f=function(){function e(){l()(this,e)}return d()(e,null,[{key:"get",value:function(e,t){return h.a.get(e,{params:t})}}]),e}(),v="https://2q2woep105.execute-api.eu-west-1.amazonaws.com/napptilus/oompa-loompas",g=n("e7x4"),w=n.n(g),y=function(e,t){e.state;var n=e.commit;return f.get(v,t).then(function(e){n("setResponse",c()({},e.data)),n("setResLocalStorage")}).catch(function(){w()({type:"error",title:"Oops...",text:"Something went wrong!"})})},x=n("mvHQ"),D=n.n(x),L=n("pFYg"),O=n.n(L),S=function(){function e(){l()(this,e)}return d()(e,null,[{key:"get",value:function(e){var t=window.localStorage.getItem(e);if((void 0===t||O()(t))&&""!==t)try{return JSON.parse(t)}catch(e){return t}return t}},{key:"save",value:function(e,t){"object"===(void 0===t?"undefined":O()(t))&&(t=D()(t)),window.localStorage.setItem(e,t)}},{key:"remove",value:function(e,t){return localStorage.removeItem(e,t)}},{key:"clearAll",value:function(){return localStorage.clear()}}]),e}(),b=function(e){e.state;var t=e.commit,n={results:S.get("results"),current:S.get("current"),total:S.get("total")};return parseInt((new Date).getTime()/1e3)-S.get("total")<=86400||null===n.results||(t("setResponse",n),!1)},k=function(e,t){e.state;var n=e.commit,s=v+"/"+t;f.get(s).then(function(e){n("setOompaDetails",e.data)}).catch(function(){w()({type:"error",title:"Oops...",text:"Something went wrong!"})})},H=n("Gu7T"),F=n.n(H),E=function(e,t){var n,s=t.total,a=t.current,r=t.results;e.response.total=s,e.response.current=a,(n=e.response.results).push.apply(n,F()(r))},P=function(e){S.save("total",e.response.total),S.save("current",e.response.current),S.save("results",e.response.results),S.save("time",parseInt((new Date).getTime()/1e3))},X=function(e,t){e.resultsMatches=t},J=n("woOf"),V=n.n(J),j=function(e,t){e.responseDetails.oompaDetails=V()({},t)},A=function(e){e.response.results=[]},N={state:{response:{current:0,total:0,results:[]},responseDetails:{oompaDetails:{}},resultsMatches:[]},actions:s,mutations:a},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var R=n("VU/8")({name:"App"},I,!1,function(e){n("uOw/")},null,null).exports,C=n("/ocq"),z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("img",{attrs:{width:"50px",src:n("zl1e"),alt:"umpaloompa"},on:{click:this.toHome}}),this._v(" "),t("span",{staticClass:"title-header"},[this._v("Oompa Loompa's Crew")])])},staticRenderFns:[]};var M=n("VU/8")({name:"AdHeader",data:function(){return{}},methods:{toHome:function(){this.$router.push({name:"Home"})}}},z,!1,function(e){n("3JSf")},"data-v-e5bf245e",null).exports,W={name:"Search",components:{},data:function(){return{value:"",options:{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["first_name","last_name","profession"]}}},computed:c()({},Object(o.d)({oompas:function(e){return e.response.results}})),methods:c()({},Object(o.c)(["findResult"]),{search:function(){var e=new Fuse(this.oompas,this.options).search(this.value);this.findResult(e)}}),beforeDestroy:function(){this.value="",this.search()}},Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-search"},[n("div",{staticClass:"wrap-icon"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"box",attrs:{placeholder:"Search",type:"text"},domProps:{value:e.value},on:{keypress:e.search,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key))return null;e.search(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),n("i",{staticClass:"icon fas fa-search"})])])},staticRenderFns:[]};var T=n("VU/8")(W,Y,!1,function(e){n("oZzz")},"data-v-bd3928c0",null).exports,Z={methods:{resolveGender:function(e){return"M"===e?"Man":"F"===e?"Woman":void 0}}},Q={name:"QueryList",mixins:[Z,{computed:c()({},Object(o.d)({matches:function(e){return e.resultsMatches},oompaLoompas:function(e){return e.response.results}}),{showFullList:function(){return this.matches.length>0?(window.removeEventListener("scroll",this.handleScroll,!1),this.matches):(window.addEventListener("scroll",this.handleScroll,!1),this.oompaLoompas)}})}],components:{},data:function(){return{}},computed:c()({},Object(o.d)({oompaLoompas:function(e){return e.response.results},page:function(e){return e.response.current},total:function(e){return e.response.total}})),methods:c()({},Object(o.b)(["getList","getDataStored"]),{handleScroll:function(e){if(Math.round(window.innerHeight+window.scrollY)>=Math.round(document.body.offsetHeight)){window.removeEventListener("scroll",this.handleScroll,!1);var t=this.page+1;this.getNextPage(t)}},getNextPage:function(e){var t=this;e<=this.total&&this.getList({page:e}).then(function(e){window.addEventListener("scroll",t.handleScroll,!1)}).catch(function(e){throw e})}}),created:function(){var e=this;this.getDataStored().then(function(t){t&&e.getList({page:1}),window.addEventListener("scroll",e.handleScroll,!1)}).catch(function(e){throw e})},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,!1)}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[e._v("Find your Oompa Loompa")]),e._v(" "),n("h4",{staticClass:"subtitle"},[e._v("There are more than 100k")]),e._v(" "),n("div",{staticClass:"list"},e._l(e.showFullList,function(t){return n("router-link",{key:t.id,staticClass:"card",attrs:{to:{name:"Details",params:{id:t.id.toString(),oompaLoompa:t}}}},[n("img",{attrs:{width:"350px;",src:t.image,alt:"oompaLoompa"}}),e._v(" "),n("p",{staticClass:"name"},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),e._v(" "),n("p",{staticClass:"gender"},[e._v(e._s(e.resolveGender(t.gender)))]),e._v(" "),n("p",{staticClass:"gender profession"},[e._v(e._s(t.profession))])])}))])},staticRenderFns:[]};var K={name:"Home",components:{AdHeader:M,Search:T,QueryList:n("VU/8")(Q,G,!1,function(e){n("QHiF")},null,null).exports},data:function(){return{}},methods:{}},q={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("ad-header"),this._v(" "),t("search"),this._v(" "),t("query-list")],1)},staticRenderFns:[]},U=n("VU/8")(K,q,!1,null,null,null).exports,_={name:"Details",components:{AdHeader:M},mixins:[Z],props:{id:{type:String,required:!0},oompaLoompa:{type:Object,required:!1}},data:function(){return{}},computed:c()({},Object(o.d)({oompaDetails:function(e){return e.responseDetails.oompaDetails}})),methods:c()({},Object(o.b)(["getOompaDetails"]),Object(o.c)(["cleanState"])),mounted:function(){this.getOompaDetails(this.id),this.cleanState()}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ad-header"),e._v(" "),n("div",{staticClass:"card"},[n("img",{attrs:{src:e.oompaDetails.image,alt:"oompaDetails"}}),e._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"name"},[e._v(e._s(e.oompaDetails.first_name)+" "+e._s(e.oompaDetails.last_name))]),e._v(" "),n("p",{staticClass:"gender"},[e._v(e._s(e.resolveGender(e.oompaDetails.gender)))]),e._v(" "),n("p",{staticClass:"gender profession"},[e._v(e._s(e.oompaDetails.profession))]),e._v(" "),n("p",{staticClass:"description"},[e._v(e._s(e.oompaDetails.description))])])])],1)},staticRenderFns:[]};var $=n("VU/8")(_,B,!1,function(e){n("NPsR")},"data-v-694d6a96",null).exports;r.a.use(C.a);var ee=new C.a({routes:[{path:"/",name:"Home",component:U},{path:"/:id",name:"Details",component:$,props:!0}]});r.a.use(o.a),r.a.config.productionTip=!1;var te=new o.a.Store(N);window.napptilus=new r.a({el:"#app",router:ee,store:te,components:{App:R},template:"<App/>"})},NPsR:function(e,t){},QHiF:function(e,t){},oZzz:function(e,t){},"uOw/":function(e,t){},zl1e:function(e,t){e.exports="data:image/png;base64,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"}},["NHnr"]);
//# sourceMappingURL=app.e25525857cc0f30564e3.js.map